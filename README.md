# Diplom_2

Задание 2: API

Тебе нужно протестировать ручки API для Stellar Burgers.
https://stellarburgers.nomoreparties.site/
Пригодится документация API.  
https://code.s3.yandex.net/qa-automation-engineer/java/cheatsheets/paid-track/diplom/api-documentation.pdf
В ней описаны все ручки сервиса. Тестировать нужно только те, которые указаны в задании. Всё остальное — просто для контекста.
1. Создание пользователя:
 - создать уникального пользователя;
 - создать пользователя, который уже зарегистрирован;
 - создать пользователя и не заполнить одно из обязательных полей.

2. Логин пользователя:
 - логин под существующим пользователем,
 - логин с неверным логином и паролем.

3. Изменение данных пользователя:
 - с авторизацией,
 - без авторизации,
Для обеих ситуаций нужно проверить, что любое поле можно изменить. 
Для неавторизованного пользователя — ещё и то, что система вернёт ошибку.

4. Создание заказа:
 - с авторизацией,
 - без авторизации,
 - с ингредиентами,
 - без ингредиентов,
 - с неверным хешем ингредиентов.

5. Получение заказов конкретного пользователя:
 - авторизованный пользователь,
 - неавторизованный пользователь.

Что нужно сделать
 Создай отдельный репозиторий для тестов API.
 Создай Maven-проект.
 Подключи JUnit 4, RestAssured и Allure.
 Напиши тесты.
 Сделай отчёт в Allure.



МОИ ШАГИ:

 Создал отдельный репозиторий для тестов API.
 Создал Maven-проект.
 Подключил JUnit 4, RestAssured и Allure.

 Проект:
1. Cоздать класс PathAPI с эндпоинтами (ручками).

2. Cоздать классы для пользователя UserRegistration, UserLogin, UserChangeData и для заказа OrderCreate.
* Начать описывать - Сериализацию — преобразовать объект в JSON
*
* Как использовать сериализацию, если нужно отправить запрос с JSON:
*  1) Создать класс, поля которого соответствуют ключам JSON. Добавить конструктор с параметрами и конструктор без параметров.
*  2) В тесте создать объект класса с нужными значениями — через конструктор.
*  3) Сериализовать объект, то есть преобразовать его в JSON. Для этого нужно подключить библиотеку Gson.

3. Описать общие шаги для пользователя и заказа и вынести их в классы User и Order.
   Классы являются наследниками класса PathAPI, где хранятся ручки.

4. Создали класс BaseMethods с переменными, аннотацией @Before (url stellarburgers) и @After (удаление пользователя), геттерами.

5. Пишем тестовые классы, начиная с класса регистрации пользователя RegistrationUserTest,
   где например:
   - отправляем запросы и сохраняет ответ в переменную response, экзмепляр класса Response;
   - проверяем, что в теле ответа ключам соответствуют правильные значения, а Матчер notNullValue() проверяет, что аргумент метода assertThat — не null-значение;
   - проверяем, что статус-код ответа верен.
   По такому же принципу создаем тесты для классов LoginUserTest, ChangeUserDataTest и для заказов CreateOrderTest и UserOrdersTest.

6. Создаем тест с параметризацией RegistrationUserAndDoNotFillInOneOfRequiredFields, где:
   - прописали аннотации
   - создали поля тестового класса
   - объявили конструктор класса
   - сам тест

7. Сделал отчёт в Allure:
   - выполнил команду mvn clean test, чтобы сгенерировать отчёт
   - в консоли перейшел в папку проекта и выполни команду allure serve target/surefire-reports/. Allure отобразит отчёт, который сгенерировал плагин maven-surefire-plugin
